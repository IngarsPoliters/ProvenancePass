const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/verifier-DD3kYH3Q.js","assets/vendor-cxkclgJA.js"])))=>i.map(i=>d[i]);
import{r as p,a as S,R as w}from"./vendor-cxkclgJA.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function o(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(t){if(t.ep)return;t.ep=!0;const a=o(t);fetch(t.href,a)}})();var b={exports:{}},f={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P=p,C=Symbol.for("react.element"),R=Symbol.for("react.fragment"),O=Object.prototype.hasOwnProperty,A=P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D={key:!0,ref:!0,__self:!0,__source:!0};function _(s,n,o){var i,t={},a=null,r=null;o!==void 0&&(a=""+o),n.key!==void 0&&(a=""+n.key),n.ref!==void 0&&(r=n.ref);for(i in n)O.call(n,i)&&!D.hasOwnProperty(i)&&(t[i]=n[i]);if(s&&s.defaultProps)for(i in n=s.defaultProps,n)t[i]===void 0&&(t[i]=n[i]);return{$$typeof:C,type:s,key:a,ref:r,props:t,_owner:A.current}}f.Fragment=R;f.jsx=_;f.jsxs=_;b.exports=f;var e=b.exports,j={},g=S;j.createRoot=g.createRoot,j.hydrateRoot=g.hydrateRoot;const I="modulepreload",L=function(s){return"/"+s},y={},k=function(n,o,i){let t=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),c=r?.nonce||r?.getAttribute("nonce");t=Promise.allSettled(o.map(l=>{if(l=L(l),l in y)return;y[l]=!0;const d=l.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${m}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":I,d||(u.as="script"),u.crossOrigin="",u.href=l,c&&u.setAttribute("nonce",c),document.head.appendChild(u),d)return new Promise((v,x)=>{u.addEventListener("load",v),u.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(r){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=r,window.dispatchEvent(c),!c.defaultPrevented)throw r}return t.then(r=>{for(const c of r||[])c.status==="rejected"&&a(c.reason);return n().catch(a)})};async function N(s){const{verifyFiles:n}=await k(async()=>{const{verifyFiles:o}=await import("./verifier-DD3kYH3Q.js");return{verifyFiles:o}},__vite__mapDeps([0,1]));return n(s)}function h(){return k(()=>import("./verifier-DD3kYH3Q.js"),__vite__mapDeps([0,1]))}function F({onFilesDropped:s}){const[n,o]=p.useState(!1),i=p.useCallback(l=>{l.preventDefault(),o(!0),h()},[]),t=p.useCallback(l=>{l.preventDefault(),o(!1)},[]),a=p.useCallback(l=>{l.preventDefault(),o(!1);const d=Array.from(l.dataTransfer.files);d.length>0&&s(d)},[s]),r=p.useCallback(l=>{const d=Array.from(l.target.files||[]);d.length>0&&s(d)},[s]),c=p.useCallback(()=>{document.getElementById("file-input")?.click()},[]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`dropzone ${n?"drag-over":""}`,onDragOver:i,onDragLeave:t,onDrop:a,onClick:c,onMouseEnter:()=>h(),children:[e.jsx("div",{className:"dropzone-icon",children:"📁"}),e.jsx("h3",{children:"Drop files here to verify"}),e.jsx("p",{children:"Drag and drop media files (PNG, JPEG, PDF, DOCX) or passport files"}),e.jsxs("small",{children:["Supports C2PA-embedded provenance and *.passport.json sidecar files",e.jsx("br",{}),"You can drop multiple files to pair them automatically"]})]}),e.jsx("input",{id:"file-input",type:"file",multiple:!0,accept:".png,.jpg,.jpeg,.pdf,.docx,.json",onChange:r,className:"file-input"})]})}function T({data:s,onReset:n}){const o=()=>{switch(s.status){case"pass":return"✅";case"fail":return"❌";case"warning":return"⚠️";default:return"❓"}},i=()=>{switch(s.status){case"pass":return"VERIFICATION PASSED";case"fail":return"VERIFICATION FAILED";case"warning":return"VERIFICATION WARNING";default:return"UNKNOWN STATUS"}},t=()=>{switch(s.source){case"c2pa":return"C2PA Embedded Manifest";case"sidecar":return"Sidecar File";case"docx-custom":return"DOCX Custom XML Parts";case"none":return"No Passport Found";default:return"Unknown Source"}},a=r=>r.length<=16?r:`${r.slice(0,8)}...${r.slice(-8)}`;return e.jsxs("div",{className:`verification-result ${s.status}`,children:[e.jsxs("div",{className:"result-header",children:[e.jsx("span",{className:"result-icon",children:o()}),e.jsxs("div",{children:[e.jsx("h3",{children:i()}),e.jsxs("p",{style:{margin:0,color:"var(--color-gray-500)"},children:["File: ",s.file]})]}),e.jsx("button",{onClick:n,style:{marginLeft:"auto",padding:"0.5rem 1rem",border:"1px solid var(--color-gray-300)",borderRadius:"0.5rem",background:"white",cursor:"pointer"},children:"Verify Another File"})]}),s.error&&e.jsxs("div",{className:"error",style:{marginBottom:"1.5rem"},children:[e.jsx("strong",{children:"Error:"})," ",s.error,s.details&&e.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem"},children:s.details})]}),e.jsxs("div",{className:"result-details",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Passport Source"}),e.jsx("div",{className:"value",children:t()})]}),s.artifact_hash&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Artifact Hash (SHA-256)"}),e.jsx("div",{className:"value hash",children:a(s.artifact_hash)})]}),s.created_at&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Created At"}),e.jsx("div",{className:"value",children:new Date(s.created_at).toLocaleString()})]}),s.key_id&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Signing Key"}),e.jsx("div",{className:"value",children:s.key_id})]}),s.key_status&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Key Status"}),e.jsx("div",{className:"value",children:e.jsx("span",{className:`key-status ${s.key_status}`,children:s.key_status})})]}),s.signature_valid!==void 0&&e.jsxs("div",{className:"detail-item",children:[e.jsx("label",{children:"Signature Valid"}),e.jsx("div",{className:"value",children:s.signature_valid?"✅ Valid":"❌ Invalid"})]})]}),s.steps&&s.steps.length>0&&e.jsxs("div",{className:"steps-section",children:[e.jsxs("h4",{children:["📋 Processing Steps (",s.steps.length,")"]}),s.steps.map((r,c)=>e.jsxs("div",{className:"step-item",children:[e.jsx("div",{className:"step-description",children:r.description}),e.jsxs("div",{className:"step-meta",children:[r.tool&&`Tool: ${r.tool}`,r.version&&` v${r.version}`,r.timestamp&&` • ${new Date(r.timestamp).toLocaleString()}`]})]},c))]}),s.policy_checks&&s.policy_checks.length>0&&e.jsxs("div",{className:"steps-section",children:[e.jsxs("h4",{children:["🛡️ Policy Checks (",s.policy_checks.length,")"]}),s.policy_checks.map((r,c)=>e.jsxs("div",{className:"step-item",children:[e.jsxs("div",{className:"step-description",children:[r.result==="pass"?"✅":r.result==="fail"?"❌":"⚠️"," ",r.policy]}),r.message&&e.jsx("div",{className:"step-meta",children:r.message})]},c))]})]})}function V(){const[s,n]=p.useState(null),[o,i]=p.useState(!1),[t,a]=p.useState(null),r=p.useCallback(async d=>{i(!0),a(null),n(null);try{const m=await N(d);n(m)}catch(m){a(m instanceof Error?m.message:"Verification failed")}finally{i(!1)}},[]),c=p.useCallback(()=>{n(null),a(null)},[]),l=p.useCallback(async()=>{i(!0),a(null),n(null);try{const[d,m]=await Promise.all([fetch("https://data.provenancepass.com/samples/pass/sidecar/document.txt"),fetch("https://data.provenancepass.com/samples/pass/sidecar/document.txt.passport.json")]);if(!d.ok||!m.ok)throw new Error("Failed to fetch sample files");const[u,v]=await Promise.all([d.blob(),m.blob()]),x=[new File([u],"document.txt",{type:"text/plain"}),new File([v],"document.txt.passport.json",{type:"application/json"})],E=await N(x);n(E)}catch(d){a(d instanceof Error?d.message:"Failed to load sample")}finally{i(!1)}},[]);return e.jsxs("div",{className:"container",children:[e.jsxs("header",{className:"header",children:[e.jsx("h1",{children:"🔏 Provenance Passport Viewer"}),e.jsx("p",{children:"Drag and drop files to verify their cryptographic provenance. Supports C2PA-embedded files and sidecar passports."}),e.jsxs("div",{className:"header-actions",children:[e.jsx("a",{href:"https://github.com/IngarsPoliters/ProvenancePass",target:"_blank",rel:"noopener noreferrer",className:"cta-button secondary",children:"📖 GitHub"}),e.jsx("a",{href:"https://provenancepass.com/docs/cli",target:"_blank",rel:"noopener noreferrer",className:"cta-button secondary",children:"🛠️ CLI Quickstart"})]})]}),e.jsxs("div",{className:"try-sample-section",children:[e.jsx("h3",{children:"🧪 Try a Sample File"}),e.jsx("p",{children:"Test the viewer with a known-good signed document:"}),e.jsxs("div",{className:"try-sample-actions",children:[e.jsx("button",{onClick:l,className:"cta-button primary",disabled:o,onMouseEnter:()=>h(),onFocus:()=>h(),children:"⚡ Try Sample Now"}),e.jsxs("div",{className:"download-links",children:[e.jsx("span",{children:"Or download manually:"}),e.jsx("a",{href:"https://data.provenancepass.com/samples/pass/sidecar/document.txt",target:"_blank",rel:"noopener noreferrer",className:"sample-link",children:"📄 document.txt"}),e.jsx("a",{href:"https://data.provenancepass.com/samples/pass/sidecar/document.txt.passport.json",target:"_blank",rel:"noopener noreferrer",className:"sample-link",children:"🔏 passport.json"})]})]})]}),e.jsxs("main",{children:[!s&&!o&&e.jsx(F,{onFilesDropped:r}),o&&e.jsx("div",{className:"loading",children:e.jsxs("div",{className:"dropzone",children:[e.jsx("div",{className:"dropzone-icon",children:"⏳"}),e.jsx("h3",{children:"Verifying files..."}),e.jsx("p",{children:"Checking for C2PA manifests and sidecar passports"})]})}),t&&e.jsxs("div",{className:"error",children:[e.jsx("strong",{children:"Verification Error:"})," ",t,e.jsx("button",{onClick:c,style:{marginLeft:"1rem",padding:"0.5rem 1rem"},children:"Try Again"})]}),s&&e.jsx(T,{data:s,onReset:c})]}),e.jsxs("footer",{className:"footer",children:[e.jsxs("div",{className:"footer-section",children:[e.jsx("h3",{children:"🛠️ CLI Quickstart"}),e.jsx("div",{className:"code-block",children:e.jsxs("code",{children:["npm install -g @provenancepass/cli",e.jsx("br",{}),"pp verify document.pdf \\",e.jsx("br",{}),"  --revocations https://data.provenancepass.com/revocations.json"]})})]}),e.jsxs("div",{className:"footer-section",children:[e.jsx("h3",{children:"🌐 Resources"}),e.jsxs("div",{className:"footer-links",children:[e.jsx("a",{href:"https://viewer.provenancepass.com/",target:"_blank",rel:"noopener noreferrer",children:"Web Viewer"}),e.jsx("a",{href:"https://github.com/IngarsPoliters/ProvenancePass",target:"_blank",rel:"noopener noreferrer",children:"GitHub Repository"}),e.jsx("a",{href:"https://provenancepass.com/docs/",target:"_blank",rel:"noopener noreferrer",children:"Documentation"})]})]})]})]})}j.createRoot(document.getElementById("root")).render(e.jsx(w.StrictMode,{children:e.jsx(V,{})}));export{k as _};
//# sourceMappingURL=index-xOSUE1GD.js.map
