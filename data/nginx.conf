server {
  listen 80;
  server_name _;

  root /usr/share/nginx/html;

  location = /healthz {
    add_header Content-Type text/plain;
    return 200 "ok";
  }

  # Revocation feed (public, cache short, enable CORS)
  location = /revocations.json {
    default_type application/json;
    add_header Access-Control-Allow-Origin "*" always;
    add_header Cache-Control "public, max-age=300";
    try_files $uri =404;
  }

  # Optional manifests (also CORS-enabled)
  location /manifest/ {
    add_header Access-Control-Allow-Origin "*" always;
    add_header Cache-Control "public, max-age=300";
    autoindex on;
    try_files $uri =404;
  }

  # Directory index for convenience
  location / {
    autoindex on;
  }
}